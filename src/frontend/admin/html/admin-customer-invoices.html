<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style/style.css">
    <meta charset="UTF-8">
    <title>Admin - Zone view</title>
    <script type="module" src="/shared/auth/admin-check.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Doto:wght@100..900&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Zilla+Slab+Highlight:wght@400;700&display=swap" rel="stylesheet">

    <script type="module" src="/shared/view-component/admin-header.js"></script>
</head>
<body>
    <main class="admin-grid grid">

        <admin-header style="z-index:1000000000000000000"></admin-header>
        
        <aside class="sidebar sidebar-vertical">
        <a href="index.html">Karta</a>
        <a href="admin-rentals.html">Uthyrningar</a>
        <a href="admin-scooters.html">Sparkcyklar</a>
        <a href="admin-customers.html">Användare</a>
        <a href="admin-invoices.html">Fakturor</a>
        <a href="admin-fees.html">Prissättning</a>
        <a href="admin-zones.html">Zoner</a>
        </aside>
 <section class="content">
    <div class="table-wrapper-admin">
      <table>
        <h1 class="table-header table-header-admin">Fakturor</h1>

        <thead>
          <tr>
            <th>Faktura-Id</th>
            <th>Uthyrnings-Id</th>
            <th>Kund-Id</th>
            <th>Skapad</th>
            <th>Förfallodatum</th>
            <th>Status</th>
            <th>Belopp (SEK)</th>
            <th>Alternativ</th>
          </tr>
        </thead>

        <tbody id="invoice-table-body">
          <tr>
            <td colspan="6" style="text-align:center; opacity:.6;">
              Laddar fakturor...
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
    </main>

<script type="module">
    import { loadInvoices } from '/shared/js/api.js';

    document.addEventListener('DOMContentLoaded', () => {
        const query = globalThis.location.search;
        const params = new URLSearchParams(query);
        const customer = params.get("customer_id");

        loadInvoices("admin", customer);
    });

</script>
</body>
</html>