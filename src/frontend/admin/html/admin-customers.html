<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="/shared/img/favicon.ico" type="image/x-icon">

  <title>Admin - Customers</title>

  <link rel="stylesheet" href="style/style.css">

  <script type="module" src="/shared/auth/admin-check.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Doto:wght@100..900&family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Zilla+Slab+Highlight:wght@400;700&display=swap" rel="stylesheet">

  <script type="module" src="/shared/view-component/admin-header.js"></script>
</head>
<body>
  <main class="admin-grid grid">

    <admin-header style="z-index:1000000000000000000"></admin-header>
    
    <aside class="sidebar sidebar-vertical">
      <a href="index.html">Karta</a>
      <a href="admin-rentals.html">Uthyrningar</a>
      <a href="admin-scooters.html">Sparkcyklar</a>
      <a href="admin-customers.html">Anv채ndare</a>
      <a href="admin-invoices.html">Fakturor</a>
      <a href="admin-fees.html">Priss채ttning</a>
      <a href="admin-zones.html">Zoner</a>
    </aside>

    <section class="content">
      <div class="table-wrapper-admin">
        <label for="toggle-blocked">Hitta sp채rrade kunder</label>
            <input id="toggle-blocked" type="checkbox">
        <table>
          <h1 class="table-header table-header-admin">Kunder</h1>
          <thead>
            <tr>
              <th>Kund-Id</th>
              <th>Email</th>
              <th>Namn</th>
              <th>Fakturor</th>
              <th>Sp채rrad</th>
              <th>Alternativ</th>
            </tr>
          </thead>
          <tbody id="customers-table-body">
            <tr>
              <td colspan="4" style="text-align:center; opacity:.6;">
                Laddar kunder...
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <script type="module">
    import { loadCustomers } from '/shared/js/api.js';

    document.addEventListener('DOMContentLoaded', () => {
      loadCustomers();

      const checkbox = document.getElementById('toggle-blocked');
      checkbox.addEventListener('change', () => {
        const onlyBlocked = checkbox.checked;

        document.querySelectorAll('.not-blocked').forEach(nb => {
            nb.style.display = onlyBlocked ? "none" : "";
        })

      })
    });
  </script>
</body>
</html>